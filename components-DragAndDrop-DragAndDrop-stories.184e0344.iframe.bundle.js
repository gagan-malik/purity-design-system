"use strict";(self.webpackChunk_purity_design_system=self.webpackChunk_purity_design_system||[]).push([[9179],{"./src/assets/icons/searchIcon.svg":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"static/media/searchIcon.d5c4a999.svg"},"./src/components/DragAndDrop/DragAndDrop.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DragAndDrop:()=>DragAndDrop,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__,sampleIssuesData:()=>sampleIssuesData});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/react/index.js"),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/index.ts"),_assets_icons_searchIcon_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/assets/icons/searchIcon.svg");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var sampleIssuesData=[{items:[],name:"Open"},{items:[{id:1,issue_type:"Incident",ticket_number:"L1234",text:"Confined Space Entry with Methane Gas Leak and Lack of Respiratory Protection",slug:"slug",description:"desciption",priority:"Low",assignee:{id:9,avatar:"https://permitech.s3.amazonaws.com/965ac315fab2__[PROXY]",first_name:"John",last_name:"Doe",fullname:"John Doe",email:"john@gmail.com"},attachmentURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fgiyu-tomioka-demon-3840x2160-16085.jpg?alt=media&token=2ccd5776-9fbb-4f67-92b0-ba2a9b50371b"},{id:4,issue_type:"Observation",ticket_number:"1234",text:"bar",slug:"test",description:"test",assignee:{id:9}}],name:"In Progress"},{items:[{id:5,issue_type:"Incident",ticket_number:"1234",text:"joe",slug:"test",description:"test"},{id:6,issue_type:"Injury",ticket_number:"1234",text:"lom",slug:"test",description:"test"}],name:"In Review"},{items:[{id:7,issue_type:"Observation",ticket_number:"1234",text:"cam",slug:"test",description:"test"},{id:8,issue_type:"Incident",ticket_number:"1234",text:"tim",slug:"test",description:"test"}],name:"Completed"},{items:[{id:7,issue_type:"Observation",ticket_number:"1234",text:"cam",slug:"test",description:"test"},{id:8,issue_type:"Incident",ticket_number:"1234",text:"tim",slug:"test",description:"test"}],name:"Cancelled"},{items:[{id:7,issue_type:"Observation",ticket_number:"1234",text:"cam",slug:"test",description:"test"},{id:8,issue_type:"Incident",ticket_number:"1234",text:"tim",slug:"test",description:"test"}],name:"On Hold"},{items:[{id:7,issue_type:"Observation",ticket_number:"1234",text:"cam",slug:"test",description:"test"},{id:8,issue_type:"Incident",ticket_number:"1234",text:"tim",slug:"test",description:"test"}],name:"Rejected"},{items:[{id:7,issue_type:"Observation",ticket_number:"1234",text:"cam",slug:"test",description:"test"},{id:8,issue_type:"Incident",ticket_number:"1234",text:"tim",slug:"test",description:"test"}],name:"Unknown"},{items:[{id:7,issue_type:"Observation",ticket_number:"1234",text:"cam",slug:"test",description:"test"},{id:8,issue_type:"Incident",ticket_number:"1234",text:"tim",slug:"test",description:"test"}],name:"Done"},{items:[{id:7,issue_type:"Observation",ticket_number:"1234",text:"cam",slug:"test",description:"test"},{id:8,issue_type:"Incident",ticket_number:"1234",text:"tim",slug:"test",description:"test"}],name:"Blocked"}],filterOptions=[{label:"Search this board",placeholder:"Search",type:"text",iconUrl:_assets_icons_searchIcon_svg__WEBPACK_IMPORTED_MODULE_2__,labelBold:!1},{label:"Issue type",type:"select",labelBold:!1,placeholder:"All Issue types",defaultSelected:{id:0,name:"All"},options:[{name:"All",id:0},{name:"Near Miss",id:"1"},{name:"Injury",id:"2"},{name:"Fatality",id:"3"},{name:"Property Damage",id:"5"},{name:"Observation",id:"6"},{name:"Incident",id:"7"}]},{label:"Status",type:"select",labelBold:!1,defaultSelected:{id:0,name:"All"},options:[{id:0,name:"All"},{id:1,name:"Open"},{id:2,name:"In Progress"},{id:3,name:"In Review"},{id:4,name:"Completed"}]}];let __WEBPACK_DEFAULT_EXPORT__={component:_index__WEBPACK_IMPORTED_MODULE_1__.BS,title:"designsystem/DragAndDrop",tags:["autodocs"],argTypes:{},args:{isLoading:!1,data:sampleIssuesData,onDrop:function(issue,newStatus){console.log("issue dropped is",issue," newStatus is",newStatus)},onCardClick:function onCardClick(card){console.log("card clicked with details",card)},filterOptions:filterOptions,onButtonClick:function(value){window.alert(value)},attachments:[{id:12,attachments:[{media_name:"giyu-tomioka-demon-3840x2160-16085.jpg",mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fgiyu-tomioka-demon-3840x2160-16085.jpg?alt=media&token=2ccd5776-9fbb-4f67-92b0-ba2a9b50371b"},{media_name:"i-love-coding-dark-3840x2160-16016.png",mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fi-love-coding-dark-3840x2160-16016.png?alt=media&token=fb29f03d-6052-43f8-a3b0-054bc7b719be"},{media_name:"giyu-tomioka-demon-3840x2160-16085.jpg",mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fgiyu-tomioka-demon-3840x2160-16085.jpg?alt=media&token=fb6a3118-83a1-4f52-8604-847337cae59e"}]},{id:6,attachments:[{media_name:"tanjiro-kamado-3840x2160-16947.jpg",mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Ftanjiro-kamado-3840x2160-16947.jpg?alt=media&token=05e86478-5f02-4533-9e53-e683e1aa0b1c"}]},{id:8,attachments:[{media_name:null,mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fundefined?alt=media&token=4a4adffc-ec63-4b53-aa68-c4f516519e00"},{media_name:"tanjiro-kamado-3840x2160-16947.jpg",mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Ftanjiro-kamado-3840x2160-16947.jpg?alt=media&token=34803955-a680-4be0-a4a5-a225b4124c5f"},{media_name:null,mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fundefined?alt=media&token=c0360259-e984-4c0f-80e5-152d5a6250bf"},{media_name:null,mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fgiyu-tomioka-demon-3840x2160-16085.jpg?alt=media&token=9c3a1809-722e-486c-a3ca-0b5cc75f41bd"},{media_name:null,mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fgiyu-tomioka-demon-3840x2160-16085.jpg?alt=media&token=74d0b20f-61fd-46d9-a608-c16581ed92e3"},{media_name:null,mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fgiyu-tomioka-demon-3840x2160-16085.jpg?alt=media&token=74d0b20f-61fd-46d9-a608-c16581ed92e3"},{media_name:"giyu-tomioka-demon-3840x2160-16085.jpg",mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fgiyu-tomioka-demon-3840x2160-16085.jpg?alt=media&token=fc486115-0601-4aa2-93e7-433ae2937240"}]},{id:12,attachments:[{media_name:"giyu-tomioka-demon-3840x2160-16085.jpg",mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fgiyu-tomioka-demon-3840x2160-16085.jpg?alt=media&token=2ccd5776-9fbb-4f67-92b0-ba2a9b50371b"},{media_name:"i-love-coding-dark-3840x2160-16016.png",mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fi-love-coding-dark-3840x2160-16016.png?alt=media&token=fb29f03d-6052-43f8-a3b0-054bc7b719be"},{media_name:"giyu-tomioka-demon-3840x2160-16085.jpg",mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fgiyu-tomioka-demon-3840x2160-16085.jpg?alt=media&token=fb6a3118-83a1-4f52-8604-847337cae59e"}]},{id:6,attachments:[{media_name:"tanjiro-kamado-3840x2160-16947.jpg",mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Ftanjiro-kamado-3840x2160-16947.jpg?alt=media&token=05e86478-5f02-4533-9e53-e683e1aa0b1c"}]},{id:8,attachments:[{media_name:null,mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fundefined?alt=media&token=4a4adffc-ec63-4b53-aa68-c4f516519e00"},{media_name:"tanjiro-kamado-3840x2160-16947.jpg",mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Ftanjiro-kamado-3840x2160-16947.jpg?alt=media&token=34803955-a680-4be0-a4a5-a225b4124c5f"},{media_name:null,mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fundefined?alt=media&token=c0360259-e984-4c0f-80e5-152d5a6250bf"},{media_name:null,mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fgiyu-tomioka-demon-3840x2160-16085.jpg?alt=media&token=9c3a1809-722e-486c-a3ca-0b5cc75f41bd"},{media_name:null,mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fgiyu-tomioka-demon-3840x2160-16085.jpg?alt=media&token=74d0b20f-61fd-46d9-a608-c16581ed92e3"},{media_name:null,mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fgiyu-tomioka-demon-3840x2160-16085.jpg?alt=media&token=74d0b20f-61fd-46d9-a608-c16581ed92e3"},{media_name:"giyu-tomioka-demon-3840x2160-16085.jpg",mediaURL:"https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fgiyu-tomioka-demon-3840x2160-16085.jpg?alt=media&token=fc486115-0601-4aa2-93e7-433ae2937240"}]}]}};var DragAndDrop={render:function(){var _React_useState=_sliced_to_array(react__WEBPACK_IMPORTED_MODULE_0__.useState(sampleIssuesData),2),data=_React_useState[0],setData=_React_useState[1],_React_useState1=_sliced_to_array(react__WEBPACK_IMPORTED_MODULE_0__.useState(1),2),key=_React_useState1[0],setKey=_React_useState1[1];return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index__WEBPACK_IMPORTED_MODULE_1__.BS,{data:data,filterOptions:filterOptions,onDrop:function(issue,newStatus){if(issue.status.toLowerCase()!==newStatus.toLowerCase()){var _updatedState_filtereditemNewIndex,filtereditemIndex=data.findIndex(function(i){return i.name===issue.status}),filtereditemNewIndex=data.findIndex(function(i){return i.name===newStatus});-1!==filtereditemNewIndex&&-1!==filtereditemIndex&&(data[filtereditemNewIndex]=_object_spread_props(_object_spread({},data[filtereditemNewIndex]),{items:_to_consumable_array(null==(_updatedState_filtereditemNewIndex=data[filtereditemNewIndex])?void 0:_updatedState_filtereditemNewIndex.items).concat([issue.issue])}),data[filtereditemIndex].items=data[filtereditemIndex].items.filter(function(d){return d.id!==issue.issue.id}),setKey(key+1),setData({}),setData(data))}},onCardClick:function(){},key:key})}};sampleIssuesData.parameters={...sampleIssuesData.parameters,docs:{...sampleIssuesData.parameters?.docs,source:{originalSource:`[{
  items: [],
  name: "Open"
}, {
  items: [{
    id: 1,
    issue_type: "Incident",
    ticket_number: "L1234",
    text: "Confined Space Entry with Methane Gas Leak and Lack of Respiratory Protection",
    slug: "slug",
    description: "desciption",
    priority: "Low",
    assignee: {
      id: 9,
      avatar: "https://permitech.s3.amazonaws.com/965ac315fab2__[PROXY]",
      first_name: "John",
      last_name: "Doe",
      fullname: "John Doe",
      email: "john@gmail.com"
    },
    attachmentURL: "https://firebasestorage.googleapis.com/v0/b/permitech-b27fa.appspot.com/o/attachments%2Fgiyu-tomioka-demon-3840x2160-16085.jpg?alt=media&token=2ccd5776-9fbb-4f67-92b0-ba2a9b50371b"
  }, {
    id: 4,
    issue_type: "Observation",
    ticket_number: "1234",
    text: "bar",
    slug: "test",
    description: "test",
    assignee: {
      id: 9
    }
  }],
  name: "In Progress"
}, {
  items: [{
    id: 5,
    issue_type: "Incident",
    ticket_number: "1234",
    text: "joe",
    slug: "test",
    description: "test"
  }, {
    id: 6,
    issue_type: "Injury",
    ticket_number: "1234",
    text: "lom",
    slug: "test",
    description: "test"
  }],
  name: "In Review"
}, {
  items: [{
    id: 7,
    issue_type: "Observation",
    ticket_number: "1234",
    text: "cam",
    slug: "test",
    description: "test"
  }, {
    id: 8,
    issue_type: "Incident",
    ticket_number: "1234",
    text: "tim",
    slug: "test",
    description: "test"
  }],
  name: "Completed"
}, {
  items: [{
    id: 7,
    issue_type: "Observation",
    ticket_number: "1234",
    text: "cam",
    slug: "test",
    description: "test"
  }, {
    id: 8,
    issue_type: "Incident",
    ticket_number: "1234",
    text: "tim",
    slug: "test",
    description: "test"
  }],
  name: "Cancelled"
}, {
  items: [{
    id: 7,
    issue_type: "Observation",
    ticket_number: "1234",
    text: "cam",
    slug: "test",
    description: "test"
  }, {
    id: 8,
    issue_type: "Incident",
    ticket_number: "1234",
    text: "tim",
    slug: "test",
    description: "test"
  }],
  name: "On Hold"
}, {
  items: [{
    id: 7,
    issue_type: "Observation",
    ticket_number: "1234",
    text: "cam",
    slug: "test",
    description: "test"
  }, {
    id: 8,
    issue_type: "Incident",
    ticket_number: "1234",
    text: "tim",
    slug: "test",
    description: "test"
  }],
  name: "Rejected"
}, {
  items: [{
    id: 7,
    issue_type: "Observation",
    ticket_number: "1234",
    text: "cam",
    slug: "test",
    description: "test"
  }, {
    id: 8,
    issue_type: "Incident",
    ticket_number: "1234",
    text: "tim",
    slug: "test",
    description: "test"
  }],
  name: "Unknown"
}, {
  items: [{
    id: 7,
    issue_type: "Observation",
    ticket_number: "1234",
    text: "cam",
    slug: "test",
    description: "test"
  }, {
    id: 8,
    issue_type: "Incident",
    ticket_number: "1234",
    text: "tim",
    slug: "test",
    description: "test"
  }],
  name: "Done"
}, {
  items: [{
    id: 7,
    issue_type: "Observation",
    ticket_number: "1234",
    text: "cam",
    slug: "test",
    description: "test"
  }, {
    id: 8,
    issue_type: "Incident",
    ticket_number: "1234",
    text: "tim",
    slug: "test",
    description: "test"
  }],
  name: "Blocked"
}]`,...sampleIssuesData.parameters?.docs?.source}}},DragAndDrop.parameters={...DragAndDrop.parameters,docs:{...DragAndDrop.parameters?.docs,source:{originalSource:`{
  render: () => {
    const [data, setData] = React.useState(sampleIssuesData);
    const [key, setKey] = React.useState(1);
    const onDrop = (issue: {
      status: string;
      issue: IIssueData;
    }, newStatus: string) => {
      if (issue.status.toLowerCase() === newStatus.toLowerCase()) {
        return;
      }
      let updatedState = data;
      let filtereditemIndex = updatedState.findIndex(i => i.name === issue.status);
      let filtereditemNewIndex = updatedState.findIndex(i => i.name === newStatus);
      if (filtereditemNewIndex !== -1 && filtereditemIndex !== -1) {
        updatedState[filtereditemNewIndex] = {
          ...updatedState[filtereditemNewIndex],
          items: [...updatedState[filtereditemNewIndex]?.items, issue.issue]
        };
        updatedState[filtereditemIndex].items = updatedState[filtereditemIndex].items.filter(d => d.id !== issue.issue.id);
        setKey(key + 1);
        setData({} as any);
        setData(updatedState);
      }
    };
    return <DnD data={data} filterOptions={filterOptions} onDrop={onDrop} onCardClick={() => {}} key={key} />;
  }
}`,...DragAndDrop.parameters?.docs?.source}}};let __namedExportsOrder=["sampleIssuesData","DragAndDrop"]}}]);
//# sourceMappingURL=components-DragAndDrop-DragAndDrop-stories.184e0344.iframe.bundle.js.map